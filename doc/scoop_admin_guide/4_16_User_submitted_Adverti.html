<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.70)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>4.16 User-submitted Advertisements</TITLE>
<META NAME="description" CONTENT="4.16 User-submitted Advertisements">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="sag.css">

<LINK REL="next" HREF="4_17_Calendar.html">
<LINK REL="previous" HREF="4_15_User_Subscriptions.html">
<LINK REL="up" HREF="4_Scoop_Features.html">
<LINK REL="next" HREF="4_17_Calendar.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><A href="http://scoop.kuro5hin.org/"><IMG src="small_logo.jpg"></A><UL><LI><A href="sag.html">SAG Home</A></LI>
<LI><A href="1_Introduction.html"><SPAN CLASS="arabic">1</SPAN> Introduction</A></LI>
<LI><A href="2_Installation.html"><SPAN CLASS="arabic">2</SPAN> Installation</A></LI>
<LI><A href="3_Setup_Administration.html"><SPAN CLASS="arabic">3</SPAN> Setup and Administration</A></LI>
<LI><A href="4_Scoop_Features.html"><SPAN CLASS="arabic">4</SPAN> Scoop Features and Customization</A></LI>
<UL>
<LI><A href="4_1_Story_Selection.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">1</SPAN> Story Selection</A></LI>
<LI><A href="4_2_User_Diaries.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">2</SPAN> User Diaries</A></LI>
<LI><A href="4_3_Story_Archiving.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">3</SPAN> Story Archiving</A></LI>
<LI><A href="4_4_Story_Digest.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">4</SPAN> Story Digest Emails</A></LI>
<LI><A href="4_5_Story_Syndication.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">5</SPAN> Story Syndication (RDF)</A></LI>
<LI><A href="4_6_Story_hotlisting_bookma.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">6</SPAN> Story hotlisting/bookmarking</A></LI>
<LI><A href="4_7_Automatic_Related.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">7</SPAN> Automatic `Related Links' listing</A></LI>
<LI><A href="4_8_Comments_Comment.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">8</SPAN> Comments and Comment Views</A></LI>
<LI><A href="4_9_Polls.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">9</SPAN> Polls</A></LI>
<LI><A href="4_10_Spell_checking_Stories.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">10</SPAN> Spell-checking Stories and Comments</A></LI>
<LI><A href="4_11_Macros_in.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">11</SPAN> Macros in Stories and Comments</A></LI>
<LI><A href="4_12_Spam_Crapflood.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">12</SPAN> Spam and Crapflood Prevention</A></LI>
<LI><A href="4_13_Trusted_Users.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">13</SPAN> Trusted Users and Mojo</A></LI>
<LI><A href="4_14_Per_user_File.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">14</SPAN> Per-user File Uploads</A></LI>
<LI><A href="4_15_User_Subscriptions.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">15</SPAN> User Subscriptions</A></LI>
<LI><A href="4_16_User_submitted_Adverti.html" id="current"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">16</SPAN> User-submitted Advertisements</A></LI>
<LI><A href="4_17_Calendar.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">17</SPAN> Calendar</A></LI>
<LI><A href="4_18_Site_Layout.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">18</SPAN> Site Layout and Themes</A></LI>
<LI><A href="4_19_Flexible_Sections.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">19</SPAN> Flexible Sections and Categorization</A></LI>
<LI><A href="4_20_Searching_Relevance.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">20</SPAN> Searching by Relevance</A></LI>
<LI><A href="4_21_Page_Caching.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">21</SPAN> Page Caching</A></LI>
<LI><A href="4_22_Payment_Processing.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">22</SPAN> Payment Processing</A></LI>
<LI><A href="4_23_Admin_Action.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">23</SPAN> Admin Action Logging</A></LI>
<LI><A href="4_24_Access_Control.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">24</SPAN> Access Control While Upgrading</A></LI>
<LI><A href="4_25_Boxtool.html"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">25</SPAN> Boxtool</A></LI>
</UL>
<LI><A href="5_Extending_Scoop_s.html"><SPAN CLASS="arabic">5</SPAN> Extending Scoop's Abilities</A></LI>
<LI><A href="A_Admin_Tools.html">A. The Admin Tools Menu</A></LI>
<LI><A href="B_Scoop_Box.html">B. The Scoop Box Exchange</A></LI>
<LI><A href="C_Frequently_Asked.html">C. Frequently Asked Questions</A></LI>
<LI><A href="About_this_document.html">About this document ...</A></LI>
</UL>
</DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html617"
  HREF="4_16_User_submitted_Adverti.html#SECTION000416100000000000000"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">16</SPAN>.<SPAN CLASS="arabic">1</SPAN> Creating Ad Templates</A>
<LI><A NAME="tex2html618"
  HREF="4_16_User_submitted_Adverti.html#SECTION000416200000000000000"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">16</SPAN>.<SPAN CLASS="arabic">2</SPAN> Graphical Ads</A>
<LI><A NAME="tex2html619"
  HREF="4_16_User_submitted_Adverti.html#SECTION000416300000000000000"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">16</SPAN>.<SPAN CLASS="arabic">3</SPAN> Approving and Managing Ads</A>
<LI><A NAME="tex2html620"
  HREF="4_16_User_submitted_Adverti.html#SECTION000416400000000000000"><SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">16</SPAN>.<SPAN CLASS="arabic">4</SPAN> Ad Comments</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H2><A NAME="SECTION000416000000000000000"></A>
<A NAME="features-textads"></A>
<BR>
<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">16</SPAN> User-submitted Advertisements
</H2>

<P>
Since reading interesting text and clicking links are what visitors to a Scoop site are generally there for, unobtrusive text ads generally have a much higher click-through rate than flashy graphical banner ads. Scoop's built-in ad server can handle both text, graphical, and mixed text and graphical ads.

<P>
The ad system is turned on using the variable <B>use_ads</B>. Whether you are using free ads or paid ads, the line
<PRE>
use Scoop::Billing;
</PRE>
must be uncommented in etc/startup.pl. If you want paid ads, see section&nbsp;<A HREF="4_22_Payment_Processing.html#features-cc-paypal">4.22</A> for details on setting up payment processing.

<P>
All advertisement configuration and approval is handled through the Advertising Admin Tool (<A HREF="A_15_Advertising.html#admin-tools-advertising">A.15</A>).

<P>

<H3><A NAME="SECTION000416100000000000000">
<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">16</SPAN>.<SPAN CLASS="arabic">1</SPAN> Creating Ad Templates</A>
</H3>

<P>
Ad template creation is a five-step process.

<UL>
<LI>Create the block that formats the ad
</LI>
<LI>Create the ad template and set its properties
</LI>
<LI>Create an example ad using the ad template
</LI>
<LI>Place a display location for the ad on your page templates
</LI>
<LI>Activate the ad
</LI>
</UL>

<P>
Using the Blocks Admin Tool, <B>create a little self-contained block of HTML</B> that could be inserted anywhere.  Usually this is a little table, but if you're going CSS it could just as easily be a DIV.  This block can contain any of the special keys <B>TITLE</B>, <B>TEXT1</B>, <B>TEXT2</B>, <B>LINK_URL</B>, or <B>FILE_PATH</B>.  No special processing is done on any of these keys apart from sanitizing them; they are replaced with whatever the advertiser enters.  Leaving a special key out means that the advertiser isn't given a text box for that field.

<P>
Using the Advertising Admin Tool, go to Edit Ad Properties and <B>fill in the properties for your new template</B> to whatever is appropriate for this particular ad.  You will not be able to activate it yet.

<P>
Still in the Advertising Admin Tool, go to Edit Example Ad and <B>create an example ad</B> for your new template.  Show off its layout.

<P>
Back in the Blocks Admin Tool, pick the appropriate page template and <B>put the box ad_box where the ad should display</B>, specifying the ad's position number (see below for some tips on the ad position) if it's other than 1.

<P>
In the Advertising Admin Tool again, go to Edit Ad Properties and <B>activate the ad</B>.

<P>
The different types of ads and the different page locations can <B>draw from the same or different pools of ads</B>, using the ``Ad Position'' property.  Each Ad Position number represents a distinct pool of ads, which can be filled from several different ad templates and poured into several different locations on a page.

<P>
One type of ad can only have one ``Ad Position'' number, but several types of ads can share a position number and hence be mixed into the same pool.  Similarly, a given ad box placed on a page can have only one position number and draw only from that pool, but several ad boxes in different locations on the page can share a position number and hence draw from the same pool of ads.  

<P>

<H3><A NAME="SECTION000416200000000000000">
<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">16</SPAN>.<SPAN CLASS="arabic">2</SPAN> Graphical Ads</A>
</H3>

<P>
If you want to use <B>graphical ads</B> or ads with a mixture of text and graphics, there are only a few extra things to watch while following the instructions above. Before you start working with graphical ads at all, the variables <B>ad_files_base</B> and <B>ad_server_url</B> and that directory's permissions must be correctly set so Scoop can successfully save and retrieve image files.

<P>
The ad template that you create in the first step above must use as its image source ``|ad_server_url||FILE_PATH|'' so the link to the ad image works properly. You may also want to specify the width and height of the ad image so the page layout doesn't get altered by a user submitting an image that is entirely the wrong size. 

<P>
When setting the ads properties in the second step above, you should put a reasonable file size limit on the files that can be uploaded.

<P>
The above information can actually apply to any ads that require a separate file, such as embedded java or flash; you will then simply use the appropriate HTML tag instead of the IMG tag. Scoop does not actually check what type of file is being uploaded.

<P>

<H3><A NAME="SECTION000416300000000000000">
<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">16</SPAN>.<SPAN CLASS="arabic">3</SPAN> Approving and Managing Ads</A>
</H3>

<P>
When an advertiser buys an ad, it must be approved before it enters the ad pool for display.  Ads waiting to be approved are listed in the Advertising Admin Tool, under Judge Submissions (also the first page to appear when you enter the Advertising Admin Tool).

<P>
If you have the variable <B>ads_judge_unpaid</B> turned on, you will see both paid and unpaid ads on the judging page; if off, only paid ads will be shown.

<P>
Ads must be both approved and activated before they start appearing in the normal ad rotation.  If you aren't getting payments for the ads via paypal or credit card, you may want to turn the variable <B>activate_upon_approve</B> on so the ads are activated as soon as you approve them.  If you are getting payment through Paypal or credit card, Scoop will activate approved and paid ads from the cc_bill_orders and paypal_bill_orders crons (<A HREF="A_14_Cron.html#admin-tools-cron">A.14</A>), depending on payment method.

<P>

<H3><A NAME="SECTION000416400000000000000">
<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">16</SPAN>.<SPAN CLASS="arabic">4</SPAN> Ad Comments</A>
</H3>

<P>
Ads in Scoop are each filed into a story, with all the features that implies--including comments.

<P>
For each type of ad, the admin can <B>turn ad comments on or off</B> on the Edit Ad Properties page, then when an advertiser buys an ad (if the ad type has comments available) the advertiser can leave comments on or turn them off for that one ad.

<P>
A smart advertiser will leave comments on, because not only do ad impressions on the story and comment view for the ad not count towards what he's paying for, he also has the reader's full attention directed to his ad, and can explain, clarify, and expand on what the ad or the advertised product is all about.

<P>
The ads available for commenting are filed in the section named in the variable <B>ad_story_section</B>.  You will have to create this section in the Sections Admin Tool before it will list the ad stories, and set its Post Story section permissions to ``Hide'' for all groups except Superuser to prevent people from posting regular stories to that section.  Both Read permissions and the Post Comment permission should all still be ``Allow''.  Ads will not show up on the ``Everything'' section page unless you remove the ad section from the variable <B>sections_excluded_from_all</B>.

<P>

<HR>
<ADDRESS>
<I>janra <BR>
2005-02-27</I>
</ADDRESS>
</BODY>
</HTML>
