<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.70)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>B..3 Boxes with special needs</TITLE>
<META NAME="description" CONTENT="B..3 Boxes with special needs">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="sag.css">

<LINK REL="previous" HREF="B_2_Boxes_generating.html">
<LINK REL="up" HREF="B_Scoop_Box.html">
<LINK REL="next" HREF="C_Frequently_Asked.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><A href="http://scoop.kuro5hin.org/"><IMG src="small_logo.jpg"></A><UL><LI><A href="sag.html">SAG Home</A></LI>
<LI><A href="1_Introduction.html"><SPAN CLASS="arabic">1</SPAN> Introduction</A></LI>
<LI><A href="2_Installation.html"><SPAN CLASS="arabic">2</SPAN> Installation</A></LI>
<LI><A href="3_Setup_Administration.html"><SPAN CLASS="arabic">3</SPAN> Setup and Administration</A></LI>
<LI><A href="4_Scoop_Features.html"><SPAN CLASS="arabic">4</SPAN> Scoop Features and Customization</A></LI>
<LI><A href="5_Extending_Scoop_s.html"><SPAN CLASS="arabic">5</SPAN> Extending Scoop's Abilities</A></LI>
<LI><A href="A_Admin_Tools.html">A. The Admin Tools Menu</A></LI>
<LI><A href="B_Scoop_Box.html">B. The Scoop Box Exchange</A></LI>
<UL>
<LI><A href="B_1_Boxes_as.html">B..<SPAN CLASS="arabic">1</SPAN> Boxes as a small part of the page</A></LI>
<LI><A href="B_2_Boxes_generating.html">B..<SPAN CLASS="arabic">2</SPAN> Boxes generating the main page content</A></LI>
<LI><A href="B_3_Boxes_with.html" id="current">B..<SPAN CLASS="arabic">3</SPAN> Boxes with special needs</A></LI>
</UL>
<LI><A href="C_Frequently_Asked.html">C. Frequently Asked Questions</A></LI>
<LI><A href="About_this_document.html">About this document ...</A></LI>
</UL>
</DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html1266"
  HREF="B_3_Boxes_with.html#SECTION00073100000000000000">B..<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">1</SPAN> diarysub_box</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H2><A NAME="SECTION00073000000000000000"></A>
<A NAME="sbe-other"></A>
<BR>
B..<SPAN CLASS="arabic">3</SPAN> Boxes with special needs
</H2>

<P>
Some boxes cannot be installed using one or the other of the methods described in the previous two sections. Some are described here.

<P>

<H3><A NAME="SECTION00073100000000000000"></A>
<A NAME="sbe-diarysub"></A>
<BR>
B..<SPAN CLASS="arabic">3</SPAN>.<SPAN CLASS="arabic">1</SPAN> diarysub_box
</H3>

<P>
Diary subscriptions are made up of two boxes.

<P>
The <B>diarysub_box</B> has two functions: it creates the subscribe/unsubscribe link and is ALSO called as an op called `diary'. First, add the diarysub_box through the box admin interface, then create an op called `diary' that calles the diarysub_box with the URL template: /user/. Then add a call to the diarysub_box from the `story_summary' box. The call should be of the form:
<PRE>
|BOX,diarysub_box,|aid||
</PRE>
where we're passing the author ID variable to the box, causing it to return the subscribe/unsubscribe link, rather than the behavior seen when called as an op. Note that the op behavior is to either add or remove a subscription then to redirect back to the calling URL. For this reason, the page template specified for the op is completely irelevant. It is however important that the box template specified for diarysub_box is set to `empty_box' because any other template will cause the subscribe/unsubscribe link to be wrapped and generally mess up the formatting of your story_summary block.

<P>
The second piece of the diary subscription system is the diary enabled hotlist_flex box which you can get from the SBE as well, using the general box adding procedure and a more traditional box call from within index_template and default_template.

<P>

<HR>
<ADDRESS>
<I>janra <BR>
2005-02-27</I>
</ADDRESS>
</BODY>
</HTML>
