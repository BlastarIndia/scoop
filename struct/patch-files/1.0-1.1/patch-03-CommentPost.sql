INSERT INTO blocks (bid, block, aid, description, category, theme, language) VALUES ('commentreply_display', '<table cellpadding="1" cellspacing="0" border="0" width="100\\%">\r\n  <tr>\r\n    <td bgcolor="%%title_bgcolor%%" width="100%">\r\n      %%title_font%%<b>Replying To:</b>%%title_font_end%%\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      %%replying_to%%\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      %%post_form%%\r\n    </td>\r\n  </tr>\r\n</table>\r\n', '1', '<P>This block lays out the comment post form. It recognises the following special keys:</P>\n<DL>\n <DT>replying_to</DT>\n  <DD>The story or comment the user is replying to.</DD>\n <DT>post_form</DT>\n  <DD>The actual comment posting form. This is laid out in the block <B>comment_post_form</B>.</DD>\n</DL>', 'Comments', 'default', 'en');
INSERT INTO blocks (bid, block, aid, description, category, theme, language) VALUES ('comment_not_logged_in', '<P>%%norm_font%%You are not logged in. If you don\'t have a user account yet, by all means <A HREF="%%rootdir%%/newuser">go make one</A>! If you do have one, you can post as "yourself" by filling in your nickname and password below. Otherwise, your comment will be posted as <B>$anon</B>.%%norm_font_end%%</P>\r\n\r\n<P>%%norm_font%%<A HREF="%%rootdir%%/newuser">Create Account</A>\r\n<BR>Nickname: <INPUT TYPE="text" SIZE="30" NAME="uname">\r\n<BR>Password: <INPUT TYPE="password" SIZE="30" NAME="pass">%%norm_font_end%%</P>\r\n', '1', '<P>This block contains the message and login form shown when an anonymous user tries to post a comment (if anonymous users can post comments). There are no special keys. The login form must have fields named "uname" and "pass".</P>', 'Comments', 'default', 'en');
INSERT INTO blocks (bid, block, aid, description, category, theme, language) VALUES ('comment_posted_display', '%%comment_controls%%\r\n<table cellpadding="1" cellspacing="0" border="0" width="100\\%">\r\n  <tr>\r\n    <td BGCOLOR="%%title_bgcolor%%">\r\n      %%title_font%%%%post_msg%%%%title_font_end%%\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      %%new_comment%%\r\n    </td>\r\n  </tr>\r\n</table>\r\n', '1', '<P>This block lays out the comment display after the comment has been posted. The special keys are:</P>\n<DL>\n <DT>comment_controls</DT>\n  <DD>the comment display options</DD>\n <DT>post_msg</DT>\n  <DD>If the user is untrusted (has a mojo below <B>rating_min</B>) the block <B>untrusted_post_message</B> is displayed here, otherwise the block <B>comment_posted_message</B></DD>\n <DT>new_comment</DT>\n  <DD>The comment just posted.</DD>\n</DL>', 'Comments', 'default', 'en');
INSERT INTO blocks (bid, block, aid, description, category, theme, language) VALUES ('comment_post_form', '<FORM NAME="postcomment" ACTION="%%rootdir%%/#here" METHOD="POST">\r\n  <TABLE WIDTH="100%" BORDER=0 CELLPADDING=0 CELLSPACING=0>\r\n    <TR>\r\n      <TD BGCOLOR="%%title_bgcolor%%" WIDTH="100%">\r\n        %%preview_msg%%\r\n      </TD>\r\n    </TR>\r\n    <TR>\r\n      <TD>\r\n        %%COMM_ERR%%\r\n        <P><!-- begin previewed comment -->\r\n        %%PRE_COMMENT%%\r\n        <!-- end previewed comment -->\r\n      </TD>\r\n    </TR>\r\n    <TR>\r\n      <TD BGCOLOR="%%title_bgcolor%%" WIDTH="100%">\r\n        <A NAME="%%here%%"><B>Post Comment</B></A>\r\n      </TD>\r\n    </TR>\r\n    <TR>\r\n      <TD>\r\n        <P>%%norm_font%%%%not_logged_in%%%%norm_font_end%%</P>\r\n        <P>%%norm_font%%%%commentdisclaimer%%%%norm_font_end%%</P>\r\n        %%formkey_element%%\r\n        <P>%%norm_font%%%%post_as%%%%norm_font_end%%</P>\r\n        %%pending_form%%\r\n      </TD>\r\n    </TR>\r\n    <TR>\r\n      <TD>\r\n        %%norm_font%%Subject:%%norm_font_end%%<BR>\r\n        %%norm_font%%<INPUT TYPE="text" size=50 name="subject" VALUE="%%subject%%" maxlength=50>%%norm_font_end%%\r\n      </TD>\r\n    </TR>\r\n    <TR>\r\n      <TD>\r\n        %%norm_font%%Comment:%%norm_font_end%%<BR>\r\n        %%norm_font%%<TEXTAREA NAME="comment" COLS=%%textarea_cols%% ROWS=%%textarea_rows%% WRAP="soft">%%comment_body%%</TEXTAREA>%%norm_font_end%%\r\n      </TD>\r\n    </TR>\r\n    <TR>\r\n      <TD>\r\n        %%spellcheck_form%%\r\n      </TD>\r\n    </TR>\r\n    <TR>\r\n      <TD>\r\n        %%sig_behavior_form%%\r\n      </TD>\r\n    </TR>\r\n    <TR>\r\n      <TD>%%norm_font%%\r\n        <INPUT TYPE="submit" NAME="preview" VALUE="Preview">\r\n        %%post_opt%%\r\n        <INPUT TYPE="submit" NAME="post" VALUE="Post">\r\n        %%norm_font_end%%\r\n      </TD>\r\n    </TR>\r\n    <TR>\r\n      <TD>\r\n        %%allow_tags%%\r\n      </TD>\r\n    </TR>\r\n  </TABLE>\r\n</FORM>', '1', '<P>This block lays out the comment post form. The following form elements are used:</P>\n<DL>\n <DT>subject</DT>\n  <DD>The form field for the comment subject. Generally a regular text input.</DD>\n <DT>comment</DT>\n  <DD>The form field for the comment body. Generally a textarea.</DD>\n <DT>preview</DT>\n  <DD>The "preview" button. Value can be anything that isn\'t a perl false value (zero or empty string)</DD>\n <DT>post</DT>\n  <DD>The "post" button. Value can be anything that isn\'t a perl false value (zero or empty string)</DD>\n</DL>\n<P>The following special keys are used:</P>\n<DL>\n <DT>sid</DT>\n  <DD>The sid of the story the comment will be attached to</DD>\n <DT>pid</DT>\n  <DD>The comment ID of the comment being replied to</DD>\n <DT>preview_msg</DT>\n  <DD>The contents of the block <B>comment_preview_msg</B>, if there\'s a comment currently being previewed.</DD>\n <DT>COMM_ERR</DT>\n  <DD>Any error messages generated during the post or preview process.</DD>\n <DT>PRE_COMMENT</DT>\n  <DD>The formatted comment being previewed</DD>\n <DT>here</DT>\n  <DD>Either "here" (if there\'s no comment being previewed) or "there" (if there is) so that the anchors work out properly</DD>\n <DT>not_logged_in</DT>\n  <DD>The contents of the block <B>comment_not_logged_in</B> if the user is not currently logged in</DD>\n <DT>formkey_element</DT>\n  <DD>The formkey for the comment post form</DD>\n <DT>post_as</DT>\n  <DD>If anonymous users are allowed to post and the user is logged in, this is a selectbox that allows the user to choose whether to post anonymously or not</DD>\n <DT>pending_form</DT>\n  <DD>If the story is still in the queue, this is a selectbox that allows the user to choose whether to post an editorial or topical comment.</DD>\n <DT>subject</DT>\n  <DD>The comment\'s subject, used as a default value for the subject form element</DD>\n <DT>textarea_cols</DT>\n  <DD>The user preference for size of the textarea</DD>\n <DT>textarea_rows</DT>\n  <DD>The user preference for size of the textarea</DD>\n <DT>comment_body</DT>\n  <DD>The comment\'s body, used as a default value for the comment form element</DD>\n <DT>spellcheck_form</DT>\n  <DD>The contents of the block <B>spellcheck_form_item</B> if spellcheck is turned on</DD>\n <DT>sig_behavior_form</DT>\n  <DD>A form element that allows users to choose whether or how to display their sig, if permitted and if they have a sig</DD>\n <DT>post_opt</DT>\n  <DD>A form element that allows users to choose which post mode (plain text, autoformat, html) they want to use</DD>\n <DT>allow_tags</DT>\n  <DD>The "allowed HTML"</DD>\n</DL>', 'Comments', 'default', 'en');
INSERT INTO blocks (bid, block, aid, description, category, theme, language) VALUES ('comment_preview_msg', '%%title_font%%<A NAME="here">Preview Comment</A>%%title_font_end%%', '1', '<P>This is the "Preview Comment" title bar. Make sure it has an anchor named "here" in it. There are no special keys.</P>', 'Comments', 'default', 'en');
INSERT INTO blocks (bid, block, aid, description, category, theme, language) VALUES ('spellcheck_form_item', '%%norm_font%%Spellcheck text (will force "Preview"): <INPUT TYPE="checkbox" NAME="spellcheck" VALUE="on"%%checked%%>%%norm_font_end%%', '1', '<P>This is the form element displayed when spellcheck is available. There is one special key, checked, which makes the checkbox pre-checked or not, depending on user action or preferences.</P>', 'Comments', 'default', 'en');
UPDATE blocks SET block='<A NAME="here">Comment posted!</A> Thank you for contributing.' WHERE bid='comment_posted_message';
UPDATE blocks SET description='<P>This block is displayed after a user has successfully posted a message. It should contain a message telling the user so. There are no special keys.</P>' WHERE bid='comment_posted_message';
